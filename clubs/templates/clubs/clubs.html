{% extends "base.html" %}
{% block content %}
{% if clubs %}
<h1>Clubs</h1> 
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Name</th>
				<th>Owner</th>
                <th>Type</th>
				<th>Members</th>
				<th>Address</th>
                <th>Likes</th>
                <th>Details</th>
                <th>Recruiting Members</th>
            </tr>
        </thead>
        <tbody>
        {% for club in clubs %}
            <tr>
                <td>{{ club.name }}</td>
				<td>{{ club.owner }}</td>
                <td>{{ club.club_type }}</td>
				<td>{{ club.number_of_members }} <a href="/clubs/{{ club.id }}/members/"><button>List</button></a></td>
				<td>{{ club.address }}</td>
				<td>{{ club.likes }}</td>
				<td><a href="/clubs/{{club.id}}"><button>View</button></a></td>
				{% if club.recruiting_members == 1 %}
				<td><a href="/clubs/join/{{ club.id }}"><button>Join</button></td>
				{% endif %}
            </tr>
		{% endfor %}
    </tbody>
    </table>
{% elif myclubs %}
	<h1>My Clubs</h1> 
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Name</th>
				<th>Owner</th>
                <th>Type</th>
				<th>Members</th>
				<th>Address</th>
                <th>Likes</th>
                <th>Last Paid</th>
                <th>Details</th>
            </tr>
        </thead>
        <tbody>
        {% for club in myclubs %}
            <tr>
                <td>{{ club.name }}</td>
				<td>{{ club.owner }}</td>
                <td>{{ club.club_type }}</td>
				<td>{{ club.number_of_members }} <a href="/clubs/{{ club.id }}/members/"><button>List</button></a></td>
				<td>{{ club.address }}</td>
				<td>{{ club.likes }}</td>
				{% for mem in membership %}
				{% if mem.club_id == club.id %}
				<td>{{ mem.date_last_paid }}</td>
				{% endif %}
				{% endfor %}
				<td><a href="/myclubs/{{club.id}}"><button>View</button></a></a></td>
				<td><a href="/clubs/quit/{{ club.id }}"><button>Quit</button></td>
            </tr>
		{% endfor %}
    </tbody>
    </table>
{% elif ownerclubs %}
	<h1>Owner's Clubs</h1> 
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Name</th>
                <th>Type</th>
				<th>Members</th>
				<th>Address</th>
                <th>Likes</th>
                <th>Details</th>
            </tr>
        </thead>
        <tbody>
        {% for club in ownerclubs %}
            <tr>
                <td>{{ club.name }}</td>
                <td>{{ club.club_type }}</td>
				<td>{{ club.number_of_members }} <a href="/ownerclub/{{ club.id }}/members/"><button>List</button></a></td>
				<td>{{ club.address }}</td>
				<td>{{ club.likes }}</td>
				<td><a href="/ownerclubs/{{club.id}}"><button>View</button></a></td>
				<td><a href="/ownerclubs/{{club.id}}/edit/"><button>Edit</button></td>
				<td><a href="/clubs/delete/{{ club.id }}"><button>Delete</button></td>
            </tr>
		{% endfor %}
    </tbody>
    </table>
{% elif adminclubs %}
<h1>Clubs</h1> 
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Name</th>
				<th>Owner</th>
                <th>Type</th>
				<th>Members</th>
				<th>Address</th>
                <th>Likes</th>
            </tr>
        </thead>
        <tbody>
        {% for club in adminclubs %}
            <tr>
                <td>{{ club.name }}</td>
				<td>{{ club.owner }}</td>
                <td>{{ club.club_type }}</td>
				<td>{{ club.number_of_members }} <a href="/admin/clubs/{{ club.id }}/members/"><button>List</button></a></td>
				<td>{{ club.address }}</td>
				<td>{{ club.likes }}</td>
				<td><a href="/admin/clubs/{{club.id}}"><button>View</button></a></td>
				<td><a href="/admin/clubs/{{club.id}}/edit/"><button>Edit</button></td>
				<td><a href="/clubs/delete/{{ club.id }}"><button>Delete</button></td>
            </tr>
		{% endfor %}
    </tbody>
    </table>
{% elif memberclubs %}
{% for mem in membername %}
<h1>{{ mem.first_name }} {{ mem.last_name }}'s Clubs</h1>
{% endfor %}
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Name</th>
				<th>Owner</th>
                <th>Type</th>
				<th>Members</th>
				<th>Address</th>
                <th>Likes</th>
            </tr>
        </thead>
        <tbody>
        {% for club in memberclubs %}
            <tr>
                <td>{{ club.name }}</td>
				<td>{{ club.owner }}</td>
                <td>{{ club.club_type }}</td>
				<td>{{ club.number_of_members }} <a href="/clubs/{{ club.id }}/members/"><button>List</button></a></td>
				<td>{{ club.address }}</td>
				<td>{{ club.likes }}</td>
				<td><a href="/clubs/{{club.id}}"><button>View</button></a></td>
				<td><a href="/clubs/join/{{ club.id }}"><button>Join</button></td>
            </tr>
		{% endfor %}
    </tbody>
    </table>
{% else %}
<p>There are no clubs.</p>
{% endif %}
{% endblock %}

